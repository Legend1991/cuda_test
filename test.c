#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#include "acpc_server_code/game.h"

// 0  1  2  3  4  5  6  7  8  9  10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51
// 2c 2d 2h 2s 3c 3d 3h 3s 4c 4d 4h 4s 5c 5d 5h 5s 6c 6d 6h 6s 7c 7d 7h 7s 8c 8d 8h 8s 9c 9d 9h 9s Tc Td Th Ts Jc Jd Jh Js Qc Qd Qh Qs Kc Kd Kh Ks Ac Ad Ah As

int main(void)
{
    clock_t start = clock();

    uint8_t p1[2] = {makeCard(12, 2), makeCard(11, 0)};

    // const uint16_t P1_HAND_SET_SIZE = 338; // 169 * 2 (two cards per hand)
    // uint8_t p1HandSet[P1_HAND_SET_SIZE] = {
    //     0,4,0,8,0,12,0,16,0,20,0,24,0,28,0,32,0,36,0,40,0,44,0,48,4,8,4,12,4,16,4,20,4,24,4,28,4,32,4,36,4,40,4,44,4,48,8,12,8,16,8,20,8,24,8,28,8,32,8,36,8,40,8,44,8,48,12,16,12,20,12,24,12,28,12,32,12,36,12,40,12,44,12,48,16,20,16,24,16,28,16,32,16,36,16,40,16,44,16,48,20,24,20,28,20,32,20,36,20,40,20,44,20,48,24,28,24,32,24,36,24,40,24,44,24,48,28,32,28,36,28,40,28,44,28,48,32,36,32,40,32,44,32,48,36,40,36,44,36,48,40,44,40,48,44,48, // Suited
    //     0,1,4,5,8,9,12,13,16,17,20,21,24,25,28,29,32,33,36,37,40,41,44,45,48,49, // Pairs
    //     0,5,0,9,0,13,0,17,0,21,0,25,0,29,0,33,0,37,0,41,0,45,0,49,4,9,4,13,4,17,4,21,4,25,4,29,4,33,4,37,4,41,4,45,4,49,8,13,8,17,8,21,8,25,8,29,8,33,8,37,8,41,8,45,8,49,12,17,12,21,12,25,12,29,12,33,12,37,12,41,12,45,12,49,16,21,16,25,16,29,16,33,16,37,16,41,16,45,16,49,20,25,20,29,20,33,20,37,20,41,20,45,20,49,24,29,24,33,24,37,24,41,24,45,24,49,28,33,28,37,28,41,28,45,28,49,32,37,32,41,32,45,32,49,36,41,36,45,36,49,40,45,40,49,44,49 // Unsuited
    // };

    const uint16_t P1_SUITED_SIZE = 156;
    uint8_t p1Suited[P1_SUITED_SIZE] = {
        0,4,0,8,0,12,0,16,0,20,0,24,0,28,0,32,0,36,0,40,0,44,0,48,4,8,4,12,4,16,4,20,4,24,4,28,4,32,4,36,4,40,4,44,4,48,8,12,8,16,8,20,8,24,8,28,8,32,8,36,8,40,8,44,8,48,12,16,12,20,12,24,12,28,12,32,12,36,12,40,12,44,12,48,16,20,16,24,16,28,16,32,16,36,16,40,16,44,16,48,20,24,20,28,20,32,20,36,20,40,20,44,20,48,24,28,24,32,24,36,24,40,24,44,24,48,28,32,28,36,28,40,28,44,28,48,32,36,32,40,32,44,32,48,36,40,36,44,36,48,40,44,40,48,44,48
    };

    const uint16_t P1_PAIRS_SIZE = 26;
    uint8_t p1Pairs[P1_PAIRS_SIZE] = {
        0,1,4,5,8,9,12,13,16,17,20,21,24,25,28,29,32,33,36,37,40,41,44,45,48,49
    };

    const uint16_t P1_UNSUITED_SIZE = 156;
    uint8_t p1Unsuited[P1_UNSUITED_SIZE] = {
        0,5,0,9,0,13,0,17,0,21,0,25,0,29,0,33,0,37,0,41,0,45,0,49,4,9,4,13,4,17,4,21,4,25,4,29,4,33,4,37,4,41,4,45,4,49,8,13,8,17,8,21,8,25,8,29,8,33,8,37,8,41,8,45,8,49,12,17,12,21,12,25,12,29,12,33,12,37,12,41,12,45,12,49,16,21,16,25,16,29,16,33,16,37,16,41,16,45,16,49,20,25,20,29,20,33,20,37,20,41,20,45,20,49,24,29,24,33,24,37,24,41,24,45,24,49,28,33,28,37,28,41,28,45,28,49,32,37,32,41,32,45,32,49,36,41,36,45,36,49,40,45,40,49,44,49
    };
    

	// for (uint16_t i = 0; i < P1_HAND_SET_SIZE; i += 2)
	// {
	//     printf("%d %d\t", p1HandSet[i], p1HandSet[i + 1]);
	// }

    printf("Suited: ");

    for (uint16_t i = 0; i < P1_SUITED_SIZE; i += 2)
    {
        printf("%d %d\t", p1Suited[i], p1Suited[i + 1]);
    }

    printf("\nPairs: ");

    for (uint16_t i = 0; i < P1_PAIRS_SIZE; i += 2)
    {
        printf("%d %d\t", p1Pairs[i], p1Pairs[i + 1]);
    }

    printf("\nUnsuited: ");

    for (uint16_t i = 0; i < P1_UNSUITED_SIZE; i += 2)
    {
        printf("%d %d\t", p1Unsuited[i], p1Unsuited[i + 1]);
    }

    printf("\n");

    clock_t end = clock();
	double diff = (double)(end - start) / (double)(CLOCKS_PER_SEC);

	printf("Calc took: %.20lf sec\n", diff);

    printf("\n%d %d\n", rankOfCard(p1Unsuited[3]), suitOfCard(p1Unsuited[3]));
}
